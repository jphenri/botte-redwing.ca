<header class="site-header">
  <div class="container header-inner">

    <!-- LOGO + TITRE -->
    <a class="site-brand" href="{{ '/' | relative_url }}">
      <img
        src="{{ '/assets/images/logo-redwing-canada.png' | relative_url }}"
        alt="Bottes Red Wing Canada – Logo"
        class="site-logo"
      >
      <span class="site-title-text">
        {{ site.title }}
      </span>
    </a>

    <!-- NAVIGATION -->
    <nav class="site-nav">
      {% assign current_lang = page.lang | default: site.default_lang %}
      {% assign current_ref = page.lang_ref | default: '' %}

      {%- comment -%}
      Trouver la page jumelle dans l’autre langue, basée sur lang_ref
      {%- endcomment -%}
      {% assign alt_page = nil %}
      {% if current_ref != '' %}
        {% assign candidates = site.pages | where: "lang_ref", current_ref %}
        {% for p in candidates %}
          {% if p.lang != current_lang %}
            {% assign alt_page = p %}
          {% endif %}
        {% endfor %}
      {% endif %}

      <!-- NAV LIENS -->
      {% if current_lang == "fr" %}
        <a href="{{ '/' | relative_url }}">Accueil</a>
        <a href="{{ '/blog/' | relative_url }}">Blog</a>
        <a href="{{ '/aboutus/' | relative_url }}">Qui sommes-nous</a>
        <a href="{{ '/contact/' | relative_url }}">Contact</a>
      {% else %}
        <a href="{{ '/en/' | relative_url }}">Home</a>
        <a href="{{ '/en/blog/' | relative_url }}">Blog</a>
        <a href="{{ '/en/aboutus/' | relative_url }}">About us</a>
        <a href="{{ '/en/contact/' | relative_url }}">Contact</a>
      {% endif %}

      <!-- SWITCH LANG -->
      <span class="lang-switch">
        {% if current_lang == "fr" %}
          <strong>FR</strong>
          {% if alt_page %}
            · <a href="{{ alt_page.url | relative_url }}">EN</a>
          {% else %}
            · <span class="lang-disabled">EN</span>
          {% endif %}
        {% else %}
          {% if alt_page %}
            <a href="{{ alt_page.url | relative_url }}">FR</a>
          {% else %}
            <span class="lang-disabled">FR</span>
          {% endif %}
          · <strong>EN</strong>
        {% endif %}
      </span>
    </nav>

  </div>
</header>
